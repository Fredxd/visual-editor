<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/src/favicon.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vite App</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap"
    rel="stylesheet"
  />
  <style>
    html,
    body {
      font-family: Roboto, sans-serif;
      font-size: 16px;
    }
    :root {
      --pink: #f50057;
      --purple: #651fff;
      --blue: #3d5afe;
      --green: #00e676;
      --lightblue: #00e5ff;
      --white: #FFF;
    }
  </style>
</head>
<body>
<div id="app"></div>
<h1>
  Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur at
  blanditiis commodi consectetur, consequuntur debitis ducimus excepturi
  ipsum iusto nisi obcaecati omnis placeat rerum soluta suscipit voluptates
  voluptatum. Autem, mollitia?
</h1>
<button class="ve-button" data-target="editor1">
  Afficher l'éditeur 1
</button>
<button class="ve-button" data-target="editor2">
  Afficher l'éditeur 2
</button>
<button class="ve-clone">Clone editeur 2 vers éditeur 1</button>
<visual-editor
  name="content"
  preview="http://localhost:3000/preview"
  iconsUrl="/steps.svg"
  id="editor1"
  value="[
  {
    &quot;title&quot;: &quot;Des résultats <span style=\&quot;color: var(--color1);\&quot;>sympa</span>&quot;,
    &quot;columns&quot;: [
      {
        &quot;body&quot;: &quot;<p class=\&quot;ql-align-center\&quot;>C'est le poids moyen que perdent nos clients dès le 1er mois*</p>&quot;,
        &quot;imagePosition&quot;: &quot;center&quot;,
        &quot;image&quot;: &quot;https://brz-mon-panier-minceur.s3.eu-central-1.amazonaws.com/v3/411.png&quot;
      },
      {
        &quot;image&quot;: &quot;https://brz-mon-panier-minceur.s3.eu-central-1.amazonaws.com/v3/931.png&quot;,
        &quot;body&quot;: &quot;<p class=\&quot;ql-align-center\&quot;>C'est le taux de clients heureux**</p>&quot;,
        &quot;imagePosition&quot;: &quot;center&quot;
      },
      {
        &quot;image&quot;: &quot;https://brz-mon-panier-minceur.s3.eu-central-1.amazonaws.com/v3/trustpilotnew.png&quot;,
        &quot;body&quot;: &quot;<p class=\&quot;ql-align-center\&quot;>C'est notre note sur Trustpilot</p>&quot;,
        &quot;imagePosition&quot;: &quot;center&quot;
      }
    ],
    &quot;paddingY&quot;: 5,
    &quot;backgroundSize&quot;: &quot;cover&quot;,
    &quot;backgroundRepeat&quot;: &quot;no-repeat&quot;,
    &quot;backgroundXPosition&quot;: &quot;center&quot;,
    &quot;backgroundYPosition&quot;: &quot;center&quot;,
    &quot;_name&quot;: &quot;columns-with-title&quot;,
    &quot;buttons&quot;: [
      {
        &quot;label&quot;: &quot;Je découvre mon programme idéal&quot;
      }
    ]
  }
]"
></visual-editor>

<visual-editor
  hidden
  name="content"
  preview="http://localhost:3000/preview"
  iconsUrl="/"
  id="editor2"
  value="[]"
></visual-editor
>
<script type="module" src="/src/main.tsx"></script>
<script>
  const toggleEditor = (event) => {
    const editor = document.getElementById(event.target.dataset.target)
    if (editor.getAttribute('hidden') !== null) {
      editor.removeAttribute('hidden')
    } else {
      editor.setAttribute('hidden', 'hidden')
    }
  }
  document.querySelectorAll('.ve-button').forEach((button) => {
    button.addEventListener('click', toggleEditor)
    const editor = document.getElementById(button.dataset.target)
    editor.addEventListener('veChange', (e) =>
      console.log(`veChange #${button.dataset.target} : `, e)
    )
    editor.addEventListener('veClose', (e) => {
      editor.setAttribute('hidden', 'hidden')
    })
  })

  document.querySelector('.ve-clone').addEventListener('click', (e) => {
    console.log(e)
    const editor1 = document.getElementById('editor1')
    const editor2 = document.getElementById('editor2')
    editor2.value = editor1.value
  })

  document.querySelector('#editor1').addEventListener('veChange', (e) => {
    e.target.setAttribute('value', e.detail);
  })
</script>
</body>
</html>
