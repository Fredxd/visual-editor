"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[766],{7766:function(e,t,n){n.r(t);var r,a,i,l,o,u=n(3545),c=n(5921),s=n(2210),d=n(9155),f=n(5654),m=n(1610),v=n(7318),p=n(2186),h=n(9231),g=n(4151),b=n(4045),E=n(5592),_=n(5224),w=n(327),y=n(1506),k=n(4391),C=n(5015),x=n(8015),N=n(4412),z=n(1813),L=n(8190),M=n(6054),S=n(2740),B=n(7714),Z=n(4259),T=n(4110),A=["children","icon","size","secondary","className"],R=["children","className","danger","success","rotate","title"],O=["className"],P=["children","label","help","type","options","tooltip","icon"],j=["as","between","gap","children","className","column","style"],H=["item","children","className"],I=["data","size"],F=Object.defineProperty,V=function(e,t,n){return function(e,t,n){t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n),n},U="_Button_ekinv_1",D="_ButtonSecondary_ekinv_23",W="_ButtonSmall_ekinv_31",q="_ButtonIcon_ekinv_35",J="_ButtonIconDanger_ekinv_56",Y="_ButtonIconSuccess_ekinv_64";function G(e){var t=e.children,n=e.icon,r=e.size,a=void 0===r?"default":r,i=e.secondary,l=void 0!==i&&i,o=e.className,u=(0,v.Z)(e,A);return h.createElement("button",Object.assign({className:(0,y.Z)(U,l&&D,"small"===a&&W,o)},u),n&&h.createElement(n,{size:20}),t)}var K="_Tooltip_fhhr6_1";function X(e){var t=e.content,n=e.children,r=e.visible,a=e.trigger,i={};return"click"===a&&(i.trigger=a,i.hideOnClick=!0,i.interactive=!0),h.createElement(k.ZP,Object.assign({content:t,visible:r},i,{className:K}),n)}function $(e){var t=e.children,n=e.className,r=e.danger,a=e.success,i=e.rotate,l=e.title,o=(0,v.Z)(e,R),u=i?{transform:"rotate("+i+"deg)"}:void 0,c=h.createElement("button",Object.assign({},o,{className:(0,y.Z)(q,r&&J,a&&Y,n),style:u}),t);return l?h.createElement(X,{content:l,trigger:"focus"},c):c}var Q="_DragHandle_mal28_1";function ee(e){return h.createElement("div",Object.assign({className:Q},e))}var te="_FieldInput_e69u7_1",ne="_FieldHelp_e69u7_18",re="_FieldWrapper_e69u7_24",ae="_FieldIcon_e69u7_28",ie="_Label_1l7k6_1";function le(e){var t=e.className,n=(0,v.Z)(e,O);return h.createElement("label",Object.assign({className:(0,y.Z)(t,ie)},n))}function oe(e){var t=e.children,n=e.label,r=e.help,a=e.type,i=void 0===a?"text":a,l=e.options,o=e.tooltip,u=e.icon,c=(0,v.Z)(e,P);if(console.log({props:c,type:i}),!t)if(l)t=h.createElement("select",Object.assign({},c,{className:(0,y.Z)(c.className,te)}),l.map((function(e,t){return h.createElement("option",{value:e.value,key:t},e.label)})));else if(["text","number"].includes(i))t=h.createElement("input",Object.assign({},c,{className:(0,y.Z)(c.className,te)}));else{if("textarea"!==i)throw new Error("Cannot render this type of field : "+i);t=h.createElement("textarea",Object.assign({},c,{className:(0,y.Z)(c.className,te)}))}return o&&(t=h.createElement(X,{content:o},t)),h.createElement("div",null,n&&h.createElement(le,{htmlFor:c.id},n),h.createElement("div",{className:re},t,u&&h.createElement("div",{className:ae},u)),r&&h.createElement("div",{className:ne},r))}var ue="_ModalOverlay_1bf7g_1",ce="_ModalContent_1bf7g_9",se="_ModalTitle_1bf7g_25",de="_ModalClose_1bf7g_32";function fe(e){if(e)return function(t){t.preventDefault(),e(t)}}function me(e){if(e)return function(t){t.preventDefault(),t.stopPropagation(),e(t)}}function ve(e){var t=e.children,n=e.title,r=e.visible,a=e.onVisibilityChange;return h.createElement(C.fC,{open:r,onOpenChange:a},h.createElement(C.aV,{className:ue}),h.createElement(C.VY,{className:ce},h.createElement(C.Dx,{className:se},n),h.createElement("div",null,t),h.createElement($,{className:de,onClick:fe((function(){return a(!1)}))},h.createElement(Fe,{size:16}))))}var pe="_Tabs_1sadw_1",he="_Tab_1sadw_1",ge="_TabSelected_1sadw_17";function be(e){var t,n=e.children,r=e.className,a=h.Children.toArray(n),i=(0,h.useState)(null==(t=a[0])?void 0:t.props.title),l=i[0],o=i[1];return h.createElement(x.mQ,{value:l,onValueChange:o},h.createElement(x.dr,{className:(0,y.Z)(pe,r)},a.map((function(e){return h.createElement(x.SP,{className:(0,y.Z)(he,l===e.props.title&&ge),value:e.props.title,key:e.props.title},e.props.title)}))),a.map((function(e){return h.createElement(x.nU,{key:e.props.title,value:e.props.title},e.props.children)})))}be.Tab=function(e){var t=e.children;return h.createElement("div",null,t)};var Ee="_Flex_6pm0u_1",_e="_FlexBetween_6pm0u_9",we="_FlexColumn_6pm0u_13",ye=(0,h.forwardRef)((function(e,t){var n=e.as,r=void 0===n?"div":n,a=e.between,i=e.gap,l=e.children,o=e.className,u=e.column,c=e.style,s=(0,v.Z)(e,j),d=void 0!==i?Object.assign({"--ve-gap":i+"rem"},c):c;return h.createElement(r,Object.assign({},s,{ref:t,className:(0,y.Z)(Ee,a&&_e,u&&we,o),style:d}),l)}));ye.displayName="Flex";var ke="_Flash_p3se7_1",Ce="_FlashProgress_p3se7_14",xe="_FlashButton_p3se7_26",Ne="_FlashIn_p3se7_31",ze="_FlashOut_p3se7_35";function Le(){var e,t=(0,h.useRef)(!1),n=(0,h.useState)(0),r=n[0],a=n[1];e=function(){return t.current=!0},(0,h.useEffect)((function(){return function(){return e()}}),[]);var i=(0,h.useCallback)((function(){!t.current&&a(r+1)}),[r]);return[(0,h.useCallback)((function(){return N.ZP.postRender(i)}),[i]),r]}var Me=function(e){var t,n,r=e.children,a=e.isPresent,i=e.onExitComplete,l=e.in,o=e.out,u=(t=Se,null===(n=(0,h.useRef)(null)).current&&(n.current=t()),n.current);return(0,h.useMemo)((function(){u.forEach((function(e,t){return u.set(t,!1)}))}),[a]),h.cloneElement(r,{className:(0,y.Z)(r.props.className,a?l:o),onAnimationEnd:a?null:i})};function Se(){return new Map}var Be=(0,h.createContext)({});function Ze(e){return e.key||""}var Te=function(e){var t=e.children,n=e.in,r=e.out,a=e.exitBeforeEnter,i=Le()[0],l=(0,h.useContext)(Be).forceRender;l&&(i=l);var o=(0,h.useRef)(!0),u=(0,h.useRef)(!0);(0,h.useEffect)((function(){return function(){u.current=!1}}),[]);var c=function(e){var t=[];return h.Children.forEach(e,(function(e){(0,h.isValidElement)(e)&&t.push(e)})),t}(t),s=(0,h.useRef)(c),d=(0,h.useRef)(new Map).current,f=(0,h.useRef)(new Set).current;if(function(e,t){var n=new Set;e.forEach((function(e){var r=Ze(e);n&&(n.has(r)&&console.warn('Children of AnimatePresence require unique keys. "'+r+'" is a duplicate.'),n.add(r)),t.set(r,e)}))}(c,d),o.current)return o.current=!1,h.createElement(h.Fragment,null,c.map((function(e){return h.createElement(Me,{key:Ze(e),isPresent:!0,in:n,out:r},e)})));for(var m=[].concat(c),v=s.current.map(Ze),p=c.map(Ze),g=v.length,b=0;b<g;b++){var E=v[b]||"";-1===p.indexOf(E)?f.add(E):f.delete(E)}return a&&f.size&&(m=[]),f.forEach((function(e){if(-1===p.indexOf(e)){var t=d.get(e);if(t){var a=v.indexOf(e);m.splice(a,0,h.createElement(Me,{key:Ze(t),isPresent:!1,onExitComplete:function(){d.delete(e),f.delete(e);var t=s.current.findIndex((function(t){return t.key===e}));if(s.current.splice(t,1),!f.size){if(s.current=c,!u.current)return;i()}},in:n,out:r},t))}}})),m=m.map((function(e){var t=e.key;return f.has(t)?e:h.createElement(Me,{key:Ze(e),isPresent:!0,in:n,out:r},e)})),s.current=m,a&&m.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),h.createElement(h.Fragment,null,f.size?m:m.map((function(e){return(0,h.cloneElement)(e)})))};function Ae(e){var t=e.children,n=e.action,r=e.onClick,a=e.duration,i=e.onHide,l=e.className;return h.createElement(Te,{in:Ne,out:ze},t&&h.createElement(ye,{between:!0,className:(0,y.Z)(ke,l)},h.createElement("div",null,t),n&&h.createElement(G,{size:"small",className:xe,onClick:fe(r)},n),a&&h.createElement("div",{onAnimationEnd:me(i),className:Ce,style:{animationDuration:a+"s"}})))}function Re(e){var t=e.size,n=void 0===t?18:t;return h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:n,height:n},h.createElement("path",{fill:"currentColor",d:"M7 4v16h10V4H7zM6 2h12a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm6 15a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}))}function Oe(e){var t=e.size,n=void 0===t?24:t;return h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:n,height:n},h.createElement("path",{fill:"currentColor",d:"M4 16h16V5H4v11zm9 2v2h4v2H7v-2h4v-2H2.992A.998.998 0 0 1 2 16.993V4.007C2 3.451 2.455 3 2.992 3h18.016c.548 0 .992.449.992 1.007v12.986c0 .556-.455 1.007-.992 1.007H13z"}))}function Pe(e){var t=e.size,n=void 0===t?18:t;return h.createElement("svg",{width:n,height:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"},h.createElement("path",{fill:"currentColor",d:"M13.315 2.716A7.461 7.461 0 102.763 13.268 7.461 7.461 0 0013.315 2.716zM8.039 14.454a6.468 6.468 0 01-6.46-6.46 6.468 6.468 0 016.46-6.462A6.468 6.468 0 0114.5 7.992a6.468 6.468 0 01-6.46 6.461z"}),h.createElement("path",{fill:"currentColor",d:"M6.915 9.556L4.62 7.262l-.708.707 3.002 3.002 5.234-5.235-.707-.707-4.527 4.527z"}))}function je(e){var t=e.size,n=void 0===t?24:t;return h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:n,height:n},h.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),h.createElement("path",{d:"M11 11V7h2v4h4v2h-4v4h-2v-4H7v-2h4zm1 11C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z",fill:"currentColor"}))}function He(e){var t=e.size,n=void 0===t?24:t;return h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:n,height:n},h.createElement("path",{d:"M12 13.172l4.95-4.95 1.414 1.414L12 16 5.636 9.636 7.05 8.222z",fill:"currentColor"}))}function Ie(e){var t=e.size,n=void 0===t?24:t;return h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:n,height:n},h.createElement("path",{d:"M17 6h5v2h-2v13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8H2V6h5V3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3zm1 2H6v12h12V8zm-4.586 6l1.768 1.768-1.414 1.414L12 15.414l-1.768 1.768-1.414-1.414L10.586 14l-1.768-1.768 1.414-1.414L12 12.586l1.768-1.768 1.414 1.414L13.414 14zM9 4v2h6V4H9z",fill:"currentColor"}))}function Fe(e){var t=e.size,n=void 0===t?24:t;return h.createElement("svg",{width:n,height:n,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h.createElement("path",{d:"M6.99999 5.58599L11.95 0.635986L13.364 2.04999L8.41399 6.99999L13.364 11.95L11.95 13.364L6.99999 8.41399L2.04999 13.364L0.635986 11.95L5.58599 6.99999L0.635986 2.04999L2.04999 0.635986L6.99999 5.58599Z",fill:"currentColor"}))}function Ve(e){var t=e.size,n=void 0===t?24:t;return h.createElement("svg",{width:n,height:n,fill:"none",xmlns:"http://www.w3.org/2000/svg"},h.createElement("path",{d:"m11.02 10.078 2.856 2.855-.943.943-2.855-2.855A6.002 6.002 0 0 1 .333 6.334c0-3.313 2.688-6 6-6a6.002 6.002 0 0 1 4.688 9.744Zm-1.337-.495a4.665 4.665 0 0 0-3.35-7.917 4.665 4.665 0 0 0-4.666 4.667 4.665 4.665 0 0 0 7.916 3.35l.1-.1Z",fill:"currentColor"}))}function Ue(e){var t=e.size,n=void 0===t?24:t;return h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:n,height:n},h.createElement("path",{fill:"currentColor",d:"M24 12l-5.657 5.657-1.414-1.414L21.172 12l-4.243-4.243 1.414-1.414L24 12zM2.828 12l4.243 4.243-1.414 1.414L0 12l5.657-5.657L7.07 7.757 2.828 12zm6.96 9H7.66l6.552-18h2.128L9.788 21z"}))}function De(e){var t=e.size,n=void 0===t?24:t;return h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:n,height:n},h.createElement("path",{fill:"currentColor",d:"M3 21a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h7.414l2 2H20a1 1 0 0 1 1 1v3h-2V7h-7.414l-2-2H4v11.998L5.5 11h17l-2.31 9.243a1 1 0 0 1-.97.757H3zm16.938-8H7.062l-1.5 6h12.876l1.5-6z"}))}function We(e){var t=e.size,n=void 0===t?24:t;return h.createElement("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h.createElement("path",{d:"M4.5 2.5L4.5 20.5L2.5 20.5L2.5 2.5L4.5 2.5ZM10.328 12.5L16.4 18.571L14.986 19.985L6.5 11.5L14.985 3.015L16.4 4.429L10.33 10.5L21.5 10.5L21.5 12.5L10.328 12.5Z",fill:"currentColor"}))}function qe(e){var t=e.items,n=e.children,r=e.onMove,a=t.map((function(e){return e._id})),i=(0,b.Dy)((0,b.VT)(b.we),(0,b.VT)(b.Lg,{coordinateGetter:_.is}));return h.createElement(b.LB,{sensors:i,collisionDetection:b.pE,onDragEnd:function(e){var t=e.active,n=e.over;n&&t.id!==n.id&&r(a.indexOf(t.id),a.indexOf(n.id))},modifiers:[E.DL,E.F4]},h.createElement(_.Fo,{items:a,strategy:_.qw},n))}function Je(e){var t=e.item,n=e.children,r=e.className,a=(0,v.Z)(e,H),i=(0,_.nB)({id:t._id}),l=i.attributes,o=i.listeners,u=i.setNodeRef,c=i.transform,s=i.transition,d=i.isDragging,f={transform:w.ux.Translate.toString(c),transition:s||void 0};return h.createElement("div",Object.assign({className:r,"data-dragging":!!d||void 0,ref:u,style:f},l,a),h.createElement(ee,Object.assign({},o)),n)}function Ye(e,t,n){return(0,_.Rp)(e,t,n)}function Ge(e,t,n){var r=[].concat(e);return r.splice(t,0,n),r}function Ke(e){return Array.isArray(e)?e:e.split(".")}function Xe(e,t,n){return t?Ke(t).reduceRight((function(t,n,r,a){var i,l,o,u,c=(i=e,l=a.slice(0,r),void 0===o&&(o=null),Ke(l).reduce((function(e,t){return e&&(Array.isArray(e)?e[parseInt(t)]:e[t])||o}),i));return Array.isArray(c)?c.map((function(e,r){return r.toString()===n?t:e})):Object.assign({},c,((u={})[n]=t,u))}),n):n}function $e(e){return JSON.stringify(e,(function(e,t){if("_id"!==e)return t}),2)}function Qe(e){return Array.isArray(e)?e.forEach((function(e,t){"object"==typeof e&&(e._id=t.toString(),Qe(e))})):"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){return Qe(e[t])})),e}function et(e,t){if("boolean"==typeof t)return!!e;if("string"==typeof t)return"boolean"==typeof e?"":""+(null!=e?e:"");throw new Error("Cannot cast "+typeof e+" into a "+typeof t)}function tt(){return"_"+Math.random().toString(36).substr(2,9)}function nt(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent}var rt=function(){function e(e,t){void 0===t&&(t={}),V(this,"fields"),V(this,"args"),V(this,"conditions",[]),V(this,"render",(function(){return(0,h.createElement)("div",{},"Vous devez impl\xe9menter la m\xe9thode render")})),this.fields=e,this.args=t}var t=e.prototype;return t.when=function(e,t){return void 0===t&&(t=!0),this.conditions.push((function(n){return"function"==typeof t?t(n[e]):et(n[e],t)===t})),this},t.shouldRender=function(e){return 0===this.conditions.filter((function(t){return!t(e)})).length},e}();function at(e,t){for(var n,r=Object.assign({},e),a=(0,m.Z)(t);!(n=a()).done;){var i=n.value;if(i instanceof rt)r=at(r,i.fields);else{var l=i.name;void 0===e[l]&&(r[l]=i.defaultValue)}}return r}var it="undefined"!=typeof localStorage?localStorage.getItem("veSidebarWidth"):0,lt=(0,M.Z)(),ot=lt.Provider,ut=lt.useStore;function ct(e){var t=e.children,n=e.data,r=e.definitions,a=e.hiddenCategories;return h.createElement(ot,{createStore:function(){return function(e,t,n){return void 0===e&&(e=[]),void 0===n&&(n=[]),(0,z.Z)((0,L.mW)((0,L.$e)({data:e,definitions:t,hiddenCategories:n,previousData:[],rollbackMessage:null,addBlockIndex:null,focusIndex:null,previewMode:1,sidebarWidth:(r=it?parseInt(it,10):600,a=0,i=window.innerWidth-375,Math.min(Math.max(r,a),i))},(function(e){return{setSidebarWidth:function(t){localStorage.setItem("veSidebarWidth",t.toString()),e((function(){return{sidebarWidth:t}}))},updateData:function(t,n){return e((function(e){return{data:Xe(e.data,n,t)}}))},removeBloc:function(t){return e((function(e){var n=e.data;return{previousData:n,data:n.filter((function(e){return e!==t})),rollbackMessage:"Le bloc a bien \xe9t\xe9 supprim\xe9"}}))},rollback:function(){return e((function(e){return{previousData:[],rollbackMessage:null,data:e.previousData}}))},voidRollback:function(){return e((function(){return{rollbackMessage:null,previousData:[]}}))},insertData:function(t,n,r){var a=Object.assign({},r,{_name:t,_id:t+tt()});return e((function(e){return{data:Ge(e.data,n,a),focusIndex:a._id}})),a},setFocusIndex:function(t){e((function(){return{focusIndex:t}}))},setAddBlockIndex:function(t){e((function(){return{addBlockIndex:t}}))},togglePreviewMode:function(){e((function(e){return{previewMode:1===e.previewMode?0:1}}))}}}))));var r,a,i}(n,r,a)}},t)}function st(){return ut((function(e){return e.data}))}function dt(){return ut((function(e){return e.updateData}))}function ft(){return ut((function(e){return e.removeBloc}))}function mt(){return ut((function(e){return e.insertData}))}function vt(){return ut((function(e){return e.setFocusIndex}))}function pt(e){return ut((function(t){return t.focusIndex===e}))}function ht(){return ut((function(e){return e.previewMode}))}function gt(){return ut((function(e){return e.definitions}))}function bt(){return ut((function(e){return e.setAddBlockIndex}))}function Et(){var e=mt(),t=ut((function(e){return e.addBlockIndex}))||0,n=ut((function(e){return e.definitions})),r=bt();return(0,h.useCallback)((function(a){e(a,t,at({},n[a].fields)),r(null)}),[e,t,n,r])}var _t="_Sidebar_1tt52_1",wt="_SidebarBlocs_1tt52_33",yt="_SidebarBloc_1tt52_33",kt="_SidebarBlocMissing_1tt52_52",Ct="_SidebarBlocBody_1tt52_57",xt="_SidebarHeading_1tt52_67",Nt="_SidebarHoverable_1tt52_85",zt="_SidebarHeader_1tt52_94";function Lt(e){void 0===e&&(e=!1);var t=(0,h.useState)(e),n=t[0],r=t[1];return[n,function(){return r((function(e){return!e}))},r]}function Mt(e,t){var n=(0,h.useRef)(!0);(0,h.useEffect)((function(){if(!n.current)return e();n.current=!1}),t)}function St(e,t){return void 0===t&&(t=0),e.offsetParent?St(e.offsetParent,t+e.offsetTop):t+e.offsetTop}var Bt=(0,h.forwardRef)((function(e,t){var n=e.children,r=e.onClick,a=e.title,i=e.description,l=r?"button":"div";return h.createElement(ye,{ref:t,gap:0,between:!0,className:xt},h.createElement(l,{className:xt,onClick:r},h.createElement("strong",null,a),i),n)}));function Zt(e){var t=e.data,n=ft();return h.createElement(Je,{item:t,className:(0,y.Z)(yt,kt)},h.createElement(Bt,{title:"Bloc inconnu : "+t._name},h.createElement($,{danger:!0,onClick:fe((function(){return n(t)})),title:"Supprimer l'\xe9l\xe9ment"},h.createElement(Ie,{size:20}))))}function Tt(e){var t=e.fields,n=e.data,r=e.path;return h.createElement(h.Fragment,null,t.filter((function(e){return e.shouldRender(n)})).map((function(e,t){return e instanceof rt?e.shouldRender(n)&&h.createElement(e.render,{key:t},h.createElement(Tt,{fields:e.fields,data:n,path:r})):e.shouldRender(n)&&h.createElement(At,{key:e.name,field:e,value:e.name?n[e.name]:void 0,path:r+"."+e.name,style:e.injectStyle(n)})})))}function At(e){var t=e.field,n=e.value,r=e.path,a=e.style,i=dt(),l=t.field,o=(0,h.useCallback)((function(e){i(e,r)}),[r]);return h.createElement("div",{style:a},h.createElement(l,{value:n,onChange:o}))}function Rt(e){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,f.Z)(p.mark((function e(t){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"clipboard-write",e.next=4,navigator.permissions.query({name:"clipboard-write"});case 4:if("granted"!=(n=e.sent).state&&"prompt"!=n.state){e.next=9;break}return e.next=8,navigator.clipboard.writeText(t);case 8:case 16:return e.abrupt("return",!0);case 9:throw n;case 12:return e.prev=12,e.t0=e.catch(0),e.next=16,navigator.clipboard.writeText(t);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Pt(e){var t=e.data,n=e.size,r=(0,v.Z)(e,I),a=(0,h.useState)(!1),i=a[0],l=a[1],o=(0,h.useRef)(),u=function(){var e=(0,f.Z)(p.mark((function e(){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rt($e(t));case 3:l(!0),o.current=window.setTimeout((function(){l(!1)}),4e3),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),c=Array.isArray(t)?"Copier le code de la page":"Copier le  bloc";return(0,h.useEffect)((function(){clearTimeout(o.current)}),[]),h.createElement(X,{content:i?h.createElement(h.Fragment,null,"Le code a bi\xe9n \xe9t\xe9 copi\xe9",h.createElement("br",null),"vous pouvez le coller sur une autre page (CTRL + V)"):c,trigger:"focus"},h.createElement("div",null,h.createElement($,Object.assign({onClick:fe(u),success:i},r),i?h.createElement(Pe,{size:n}):h.createElement(Ue,{size:n}))))}Bt.displayName="SidebarHeading",Bt.Hover=function(e){var t=e.children;return h.createElement(ye,{className:Nt,gap:0},t)};var jt=(0,h.memo)((function(e){var t=e.data,n=e.definition,r=e.path,a=(0,h.useRef)(null),i=pt(t._id),l=Lt(!i),o=l[0],u=l[1],c=l[2],s=ft(),d=vt(),f=null!=n&&n.label&&t[n.label]?t[n.label]:null;Mt((function(){i?(c(!1),window.setTimeout((function(){return a.current.scrollIntoView({behavior:"smooth",block:"start"})}),100)):c(!0)}),[i]);var m=(0,h.useMemo)((function(){return null!=f&&f.includes("<")?(e=f,document.createRange().createContextualFragment("<div>"+e.trim()+"</div>").firstChild).innerText:f;var e}),[f]);return n?h.createElement(Je,{item:t,className:yt},h.createElement(Bt,{ref:a,title:n.title,description:o?m:null,onClick:fe((function(){o&&d(r),u()}))},h.createElement(Bt.Hover,null,h.createElement(Pt,{data:t,size:20}),h.createElement($,{danger:!0,onClick:function(){s(t)},title:"Supprimer l'\xe9l\xe9ment"},h.createElement(Ie,{size:20}))),h.createElement($,{rotate:o?-90:0,onClick:fe(u)},h.createElement(He,{size:20}))),!o&&h.createElement(ye,{column:!0,gap:1,className:Ct},h.createElement(Tt,{fields:n.fields,data:t,path:r}))):h.createElement(Zt,{data:t})}));function Ht(e){var t=e.data,n=dt(),r=gt();return h.createElement("div",{className:wt},h.createElement(qe,{items:t,onMove:function(e,r){n(Ye(t,e,r))}},t.map((function(e,t){return h.createElement(jt,{key:e._id,data:e,definition:r[e._name],path:""+t})}))))}function It(e){var t=e.onClose,n=ut((function(e){return e.togglePreviewMode})),r=0===ht(),a=bt(),i=st();return h.createElement(ye,{className:zt,between:!0},h.createElement("div",null,h.createElement($,{title:"Fermer",onClick:fe(t)},h.createElement(Fe,{size:12}))),h.createElement(ye,null,h.createElement(Pt,{data:i,size:20}),h.createElement($,{onClick:fe(n),title:"Vue responsive"},r?h.createElement(Oe,{size:20}):h.createElement(Re,{size:24})),h.createElement(G,{icon:je,onClick:fe((function(){return a(0)}))},"Ajouter un bloc")))}function Ft(e){var t=e.data,n=e.onClose;return h.createElement("div",{className:_t},h.createElement(It,{onClose:n}),h.createElement(Ht,{data:t}))}function Vt(e,t,n){var r=(0,h.useRef)(e),a=(0,h.useMemo)((function(){return e=function(){return r.current.apply(r,arguments)},t=n,a=null,function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var l=function(){a=null,e.apply(void 0,r)};a&&clearTimeout(a),a=window.setTimeout(l,t)};var e,t,a}),[]);r.current=e,(0,h.useEffect)((function(){a()}),t)}var Ut="_Preview_k36wv_6",Dt="_PreviewPhone_k36wv_25",Wt="_PreviewAddButton_k36wv_30",qt="_PreviewAddBlock_k36wv_104",Jt="_PreviewBlockWrapper_k36wv_117",Yt="_PreviewBlock_k36wv_117",Gt="_PreviewBlockTitle_k36wv_131",Kt="_PreviewBlockFocused_k36wv_144",Xt="_PreviewBlockLoading_k36wv_161";function $t(e){var t,n,r=e.data,a=e.previewUrl,i=(e.iconsUrl,(0,h.useRef)(null)),l=(0,h.useState)(null),o=l[0],u=l[1],c=(0,h.useRef)({});t=(0,f.Z)(p.mark((function e(){var t,n,l;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r)});case 2:if((t=e.sent).ok){e.next=5;break}return e.abrupt("return");case 5:return(n=i.current.contentDocument).open(),e.t0=n,e.next=10,t.text();case 10:e.t1=e.sent,e.t0.write.call(e.t0,e.t1),n.close(),l=n.querySelector("#ve-components"),c.current=Array.from(l.children).reduce((function(e,t,n){var a;return Object.assign({},e,((a={})[r[n]._id]=t.outerHTML,a))}),{}),l.innerHTML="",u(l);case 17:case"end":return e.stop()}}),e)}))),n=[],(0,h.useEffect)((function(){t()}),n);var s=ht(),d=(0,B.Z)().height,m=void 0;return 0===s&&d<844&&(m={transform:"scale("+d/844+")"}),h.createElement("div",{className:(0,y.Z)(Ut,0===s&&Dt)},h.createElement("iframe",{ref:i,style:m}),o&&(0,g.createPortal)(h.createElement(Qt,{data:r,initialHTML:c.current,previewUrl:a}),o))}function Qt(e){var t=e.data,n=e.initialHTML,r=void 0===n?{}:n,a=e.previewUrl,i=gt(),l=bt();return h.createElement(h.Fragment,null,h.createElement(S.U5,{flipKey:t.map((function(e){return e._id})).join("_")},t.map((function(e,t){var n;return h.createElement("div",{key:e._id},h.createElement("button",{className:Wt,onClick:fe((function(){return l(t)}))},h.createElement("span",null,"Ajouter un bloc")),h.createElement(en,{title:(null==(n=i[e._name])?void 0:n.title)||"",data:e,initialHTML:r[e._id]||"",previewUrl:a}))}))),h.createElement("div",{className:qt},h.createElement(G,{icon:je,onClick:fe((function(){return l(t.length)}))},"Ajouter un bloc")))}function en(e){var t=e.data,n=e.initialHTML,r=e.previewUrl,a=e.title,i=(0,h.useRef)(null),l=function(e,t,n){var r=(0,h.useState)(!1),a=r[0],i=r[1],l=(0,h.useState)(n),o=l[0],u=l[1],c=(0,h.useRef)(!!n);return Vt((function(){if(!c.current){var n=window.setTimeout((function(){return i(!0)}),200);return fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Object.assign({},e,{preview:!0}))}).then((function(e){return e.text()})).then(u).finally((function(){clearTimeout(n),i(!1)})),function(){return clearTimeout(n)}}c.current=!1}),[e],500),{loading:a,html:o}}(t,r,n),o=l.loading,u=l.html,c=vt(),s=pt(t._id);return(0,h.useEffect)((function(){if(s){var e=St(i.current)-40;i.current.closest("html").scrollTop=e}}),[s]),h.createElement(S.$3,{flipId:t._id},h.createElement("div",{className:Jt,id:"previewItem"+t._id},h.createElement("div",{className:(0,y.Z)(Yt,o&&Xt,s&&Kt),ref:i,onClick:function(){return c(t._id)}},h.createElement("div",{className:Gt},a),h.createElement("div",{dangerouslySetInnerHTML:{__html:u}}))))}var tn="_ResizeBar_1yvrt_1",nn="_ResizeBarActive_1yvrt_14",rn="_ResizeBarOverlay_1yvrt_18";function an(){var e=(0,h.useState)(!1),t=e[0],n=e[1],r=ut((function(e){return e.setSidebarWidth}));return h.createElement(h.Fragment,null,h.createElement("div",{className:(0,y.Z)(tn,t&&nn),onMouseDown:function(e){e.stopPropagation(),e.preventDefault(),n(!0);var t=function(e){r(Math.round(100*e.clientX/window.innerWidth))};document.documentElement.addEventListener("mousemove",t),document.documentElement.addEventListener("mouseup",(function(){n(!1),document.documentElement.removeEventListener("mousemove",t)}),{once:!0})}}),t&&h.createElement("div",{className:rn}))}var ln="_BlocSelectorTabs_m0dmz_1",on="_BlocSelectorGrid_m0dmz_5",un="_BlocSelectorItem_m0dmz_18",cn="_BlocSelectorItemImage_m0dmz_30",sn="_BlocSelectorSearchWrapper_m0dmz_96",dn="_BlocSelectorSearch_m0dmz_96",fn="Tous les blocs";function mn(e){var t=e.iconsUrl,n=null!==ut((function(e){return e.addBlockIndex})),r=bt(),a=(0,h.useState)(""),i=a[0],l=a[1],o=gt(),u=ut((function(e){return e.hiddenCategories})),c=Et(),s=(0,h.useMemo)((function(){return[fn].concat(Object.values(o).filter((function(e){return e.category})).filter((function(e){var t;return!u.includes(null!=(t=e.category)?t:"")})).reduce((function(e,t){return e.includes(t.category)?e:[].concat(e,[t.category])}),[]))}),[o]);if((0,h.useEffect)((function(){l("")}),[n]),!n)return null;return h.createElement(ve,{visible:n,onVisibilityChange:function(e){r(null)},title:"Ajouter un bloc"},h.createElement("div",{className:sn},h.createElement("input",{type:"search",placeholder:"Rechercher un bloc",value:i,onChange:function(e){return l(e.target.value)},className:dn}),h.createElement(Ve,{size:14})),h.createElement(be,{className:ln},s.map((function(e){return h.createElement(be.Tab,{key:e,title:e},h.createElement("div",{className:on},Object.keys(o).filter((function(e){var t;return!u.includes(null!=(t=o[e].category)?t:"")})).filter(function(e,t,n){return function(r){var a=t===fn||n[r].category===t,i=""===e||n[r].title.toLowerCase().includes(e.toLowerCase());return a&&i}}(null!=i?i:"",e,o)).map((function(e){return h.createElement(vn,{key:e,definition:o[e],name:e,iconsUrl:t,onClick:function(){return c(e)}})}))))}))))}function vn(e){var t=e.definition,n=e.name,r=e.iconsUrl,a=e.onClick,i=r.replace("[name]",n),l=t.title;return h.createElement("button",{className:un,onClick:fe(a)},h.createElement("div",{className:cn},h.createElement("img",{src:i})),h.createElement("div",null,l))}var pn="_LayoutWrapper_9vixo_1",hn="_Layout_9vixo_1",gn="_LayoutCollapseButton_9vixo_35",bn="_LayoutSidebarCollapsed_9vixo_50";function En(){var e={message:ut((function(e){return e.rollbackMessage})),rollback:ut((function(e){return e.rollback})),voidRollback:ut((function(e){return e.voidRollback}))},t=e.message,n=e.rollback,r=e.voidRollback;return h.createElement(Ae,{action:"R\xe9tablir",onClick:n,duration:3,onHide:r,children:t})}function _n(e){var t=e.data,n=e.previewUrl,r=e.onClose,a=e.iconsUrl,i=(0,h.useState)(!1),l=i[0],o=i[1],u=!l;return h.createElement(wn,null,h.createElement("div",{className:(0,y.Z)(hn,l&&bn)},h.createElement(Ft,{data:t,onClose:r}),n&&h.createElement($t,{data:t,previewUrl:n,iconsUrl:a})),h.createElement($,{onClick:fe((function(){return o((function(e){return!e}))})),className:gn},h.createElement(We,{size:20})),u&&h.createElement(an,null),h.createElement(mn,{iconsUrl:a}),h.createElement(En,null))}function wn(e){var t=e.children,n=ut((function(e){return e.sidebarWidth}));return h.createElement("div",{className:pn,style:{"--ve-sidebar":n+"vw"}},t)}function yn(e){return void 0===e&&(e=""),(0,h.useMemo)((function(){return e+tt()}),[])}var kn=function(){function e(e,t){V(this,"name"),V(this,"args"),V(this,"conditions",[]),V(this,"variables",null),this.name=e,this.args=Object.assign({},this.defaultArgs,t),this.field=this.field.bind(this)}var t=e.prototype;return t.field=function(e){e.value,e.onChange;throw Error("La m\xe9thode field doit \xeatre impl\xe9ment\xe9e")},t.when=function(e,t){return void 0===t&&(t=!0),this.conditions.push((function(n){return"function"==typeof t?t(n[e]):et(n[e],t)===t})),this},t.shouldRender=function(e){return 0===this.conditions.filter((function(t){return!t(e)})).length},t.injectStyle=function(e){var t=this;return this.variables?Object.keys(this.variables).reduce((function(n,r){var a,i=e[t.variables[r]];return i?Object.assign({},n,((a={})["--"+r]="var("+i+")",a)):n}),{}):null},(0,d.Z)(e,[{key:"defaultValue",get:function(){return this.args.default}},{key:"defaultArgs",get:function(){return{}}}]),e}(),Cn=function(e){function t(){return e.apply(this,arguments)||this}return(0,s.Z)(t,e),t.prototype.field=function(e){var t=e.value,n=e.onChange,r=yn("textinput");return h.createElement(oe,{label:this.args.label,type:this.args.multiline?"textarea":"text",id:r,value:t,onInput:function(e){return n(e.target.value)},help:this.args.help})},(0,d.Z)(t,[{key:"defaultArgs",get:function(){return{default:""}}}]),t}(kn),xn="_Repeater_1j8wz_1",Nn="_RepeaterItem_1j8wz_9",zn="_RepeaterItemBody_1j8wz_19",Ln="_RepeaterFooter_1j8wz_25",Mn=function(e){function t(){var t;return t=e.apply(this,arguments)||this,V((0,c.Z)(t),"field",(function(e){var n=e.value,r=e.onChange,a=null!=n?n:[],i=!t.args.max||a.length<t.args.max,l=!t.args.min||a.length>t.args.min,o=function(e){r(a.filter((function(t){return t!==e})))},u=function(e,t){r(Xe(a,e,t))};return h.createElement(oe,{label:t.args.label},h.createElement(qe,{items:a,onMove:function(e,t){r(Ye(a,e,t))}},h.createElement("div",{className:xn},a.map((function(e,n){return h.createElement(t.fieldLine,{key:e._id,line:e,index:n,onUpdate:u,onRemove:l?o:null})})),i&&h.createElement("div",{className:Ln},h.createElement(G,{secondary:!0,onClick:fe((function(){r([].concat(a,[at({_id:tt()},t.args.fields)]))})),icon:je},t.args.addLabel)))))})),V((0,c.Z)(t),"fieldLine",(function(e){var n=e.line,r=e.index,a=e.onRemove,i=e.onUpdate,l=Lt(!0),o=l[0],u=l[1],c=t.args.collapsed?n[t.args.collapsed]:"Element #"+(r+1),s=(0,h.useMemo)((function(){return nt(c)}),[c]);return h.createElement(Je,{item:n,className:Nn},h.createElement(Bt,{onClick:fe(u),title:s},h.createElement(Bt.Hover,null,a&&h.createElement($,{danger:!0,onClick:function(){return a(n)},title:"Supprimer l'\xe9l\xe9ment"},h.createElement(Ie,{size:20}))),h.createElement($,{rotate:o?-90:0,onClick:fe(u)},h.createElement(He,{size:24}))),!o&&h.createElement("div",{className:zn},h.createElement(t.fields,{fields:t.args.fields,line:n,index:r,onUpdate:function(e){return function(t){return i(e,t)}}})))})),V((0,c.Z)(t),"fields",(function(e){var n=e.fields,r=e.line,a=e.onUpdate,i=e.index;return h.createElement(h.Fragment,null,n.map((function(e,n){return h.createElement(t.fieldComponent,{key:n,field:e,line:r,onUpdate:a,index:i})})))})),V((0,c.Z)(t),"fieldComponent",(function(e){var n=e.field,r=e.line,a=e.onUpdate,i=e.index;return n.shouldRender(r)?n instanceof rt?h.createElement(n.render,null,h.createElement(t.fields,{fields:n.fields,line:r,onUpdate:a,index:i})):h.createElement(n.field,{value:r[n.name],onChange:a(i+"."+n.name)}):null})),t}return(0,s.Z)(t,e),(0,d.Z)(t,[{key:"defaultArgs",get:function(){return{addLabel:"Ajouter un \xe9l\xe9ment"}}},{key:"defaultValue",get:function(){for(var e,t=[],n=null!=(e=this.args.min)?e:0,r=0;r<n;r++)t.push(at({},this.args.fields));return Qe(t)}}]),t}(kn),Sn="_ImageUrlTooltip_1s3ny_1",Bn="_ImageUrlBrowseButton_1s3ny_9",Zn="_ImageUrlInput_1s3ny_15",Tn=function(e){function t(){return e.apply(this,arguments)||this}return(0,s.Z)(t,e),t.prototype.field=function(e){var t=this,n=e.value,r=e.onChange,a=yn("textinput");return h.createElement(oe,{id:a,label:this.args.label,help:this.args.help,value:n,tooltip:n?h.createElement(An,{url:n}):void 0,onChange:function(e){return r(e.target.value)},className:Zn,icon:this.args.onBrowse?h.createElement($,{onClick:fe((function(){t.args.onBrowse(n).then((function(e){r(e)})).catch((function(e){}))})),className:Bn},h.createElement(De,{size:16})):void 0})},t}(kn);function An(e){var t=e.url;return t?h.createElement("img",{src:t,alt:"",className:Sn}):null}var Rn=function(){},On=null!=(r=null==Z?void 0:Z.import("delta"))?r:Rn,Pn=null!=(a=null==Z?void 0:Z.import("formats/bold"))?a:Rn,jn=null!=(i=null==Z?void 0:Z.import("blots/break"))?i:Rn,Hn=null!=(l=null==Z?void 0:Z.import("blots/embed"))?l:Rn;function In(){var e=new On;return e.insert({break:""}),e}var Fn=function(e){function t(){return e.apply(this,arguments)||this}(0,s.Z)(t,e);var n=t.prototype;return n.length=function(){return 1},n.value=function(){return"\n"},n.insertInto=function(e,t){Hn.prototype.insertInto.call(this,e,t)},t}(jn);V(Fn,"blotName","break"),V(Fn,"tagName","BR");var Vn=function(e){function t(){return e.apply(this,arguments)||this}return(0,s.Z)(t,e),t}(Pn);function Un(e){return{key:13,shiftKey:!0,handler:function(t){if(e.current){var n=e.current.getLeaf(t.index)[0],r=e.current.getLeaf(t.index+1)[0];e.current.insertEmbed(t.index,"break",!0,"user"),null!==r&&n.parent===r.parent||e.current.insertEmbed(t.index,"break",!0,"user"),e.current.setSelection(t.index+1,0,Z.sources.SILENT)}}}}V(Vn,"blotName","mark"),V(Vn,"tagName",["MARK"]),null==Z||Z.register(Fn),null==Z||Z.register(Vn);var Dn=((o={})[0]=[["bold","italic","underline"],["background","link","clean"]],o[1]=[["bold","italic","underline"],["background","link","clean"]],o[2]=[[{list:"ordered"},{list:"bullet"},"blockquote"],[{align:[]}],["bold","italic","underline","background","link","clean"]],o[3]=[[{header:[2,3,4,5,6,!1],blockquote:[]}],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["bold","italic","underline","background","link","clean"]],o);function Wn(e){var t=e.value,n=e.onChange,r=e.mode,a=void 0===r?1:r,i=e.placeholder,l=e.colors,o=(0,h.useRef)(null),u=(0,h.useRef)(null),c=(0,h.useRef)(n);return c.current=n,(0,h.useEffect)((function(){var e=Dn[a];l&&(e=[].concat(e,[[{color:l.map((function(e){return"var("+e+")"}))}]]));var n=new Z(o.current,{modules:{clipboard:{matchers:[["BR",In]]},history:!0,keyboard:{bindings:{linebreak:Un(u)}},toolbar:e},placeholder:i,theme:"bubble"});n.root.innerHTML=function(e){if(e.startsWith("<"))return e;return"<p>"+e+"</p>"}(t||""),n.on("text-change",(function(){c.current(0===a?function(e){if("<br>"===(e=e.trim().replaceAll("\n","<br>")))return"";return e}(u.current.root.firstChild.innerHTML):function(e){if("<p><br></p>"===e)return"";return e}(u.current.root.innerHTML))})),n.clipboard.addMatcher(Node.ELEMENT_NODE,(function(e,t){return function(e,t){for(var n,r=(0,m.Z)(e.ops);!(n=r()).done;){var a=n.value;a.insert&&a.attributes&&(delete a.attributes.align,delete a.attributes.color,delete a.attributes.background,[1,0].includes(t)&&(delete a.attributes.link,delete a.attributes.list),3!==t&&delete a.attributes.header,0===t&&"string"==typeof a.insert&&(a.insert=a.insert.replaceAll("\n","")))}return e}(t,a)})),0===a&&(n.keyboard.bindings[13]=[{key:"Enter",handler:function(){}}],n.clipboard.addMatcher("P",(function(e,t){var n=new On;return n.ops=t.ops.map((function(e){return"string"==typeof e.insert&&(e.insert=e.insert.replaceAll("\n","")),e})),n}))),n.getModule("toolbar").addHandler("background",(function(){n.format("mark",!0)})),u.current=n}),[]),h.createElement("div",{className:(0,y.Z)(0===a&&"ql-container-oneline"),ref:o})}var qn="_HTMLText_8k9nw_1",Jn=function(e){function t(){var t;return t=e.apply(this,arguments)||this,V((0,c.Z)(t),"variables",{}),t}(0,s.Z)(t,e);var n=t.prototype;return n.field=function(e){var t=e.value,n=e.onChange;return h.createElement(oe,{label:this.args.label,help:this.args.help},h.createElement("div",{className:qn},h.createElement(Wn,{value:t||"",onChange:n,mode:this.fieldType(),colors:this.args.colors})))},n.background=function(e){return this.variables.background=e,this},n.color=function(e){return this.variables.color=e,this},n.fieldType=function(){return!1===this.args.multiline?0:this.args.allowHeadings?3:2},(0,d.Z)(t,[{key:"defaultArgs",get:function(){return{multiline:!0,allowHeadings:!1,default:""}}}]),t}(kn),Yn="_ColorPickerButton_6trtw_1",Gn="_ColorPickerButtonSelected_6trtw_23",Kn="_ColorPickerPalette_6trtw_29",Xn="_ColorTransparent_6trtw_29",$n="_ColorPickerButtonTransparent_6trtw_29",Qn="_ColorPickerContent_6trtw_37",er=function(e){function t(){var t;return t=e.apply(this,arguments)||this,V((0,c.Z)(t),"palette",(function(e){var n=e.onChange;return h.createElement("div",{className:Kn,style:{"--children":t.args.colors.length+1}},h.createElement("button",{className:Xn,onClick:fe((function(){return n(null)}))}),t.args.colors.map((function(e){return h.createElement("button",{key:e,style:{"--ve-color":"var("+e+")"},onClick:fe((function(){return n(e)}))})})))})),t}return(0,s.Z)(t,e),t.prototype.field=function(e){var t=e.value,n=e.onChange,r=(0,h.useState)(!1),a=r[0],i=r[1];return h.createElement(oe,{label:this.args.label},h.createElement(T.fC,{open:a,onOpenChange:function(){return i((function(e){return!e}))}},h.createElement(T.xz,{className:(0,y.Z)(Yn,a&&Gn,!t&&$n),style:t?{"--ve-selected-color":"var("+t+")"}:void 0}),h.createElement(T.VY,{className:Qn,side:"top"},h.createElement(this.palette,{onChange:function(e){n(e),i(!1)}}),h.createElement(T.Eh,null))))},t}(kn),tr="_Row_otl7x_1",nr=function(e){function t(){var t;return t=e.apply(this,arguments)||this,V((0,c.Z)(t),"render",(function(e){var n=e.children;return h.createElement(oe,{label:t.args.label},h.createElement(ye,{className:t.args.columns?void 0:tr,style:t.args.columns?{display:"grid",gridTemplateColumns:t.args.columns}:void 0},n))})),t}return(0,s.Z)(t,e),t}(rt),rr="_Alignments_ce3ow_1",ar="_AlignmentsButton_ce3ow_8";var ir=function(e){function t(){return e.apply(this,arguments)||this}return(0,s.Z)(t,e),t.prototype.field=function(e){var t=e.value,n=e.onChange,r=yn("textinput");return h.createElement(oe,{id:r,label:this.args.label,help:this.args.help,options:this.args.options,value:t,onChange:function(e){return n(e.target.value)}})},(0,d.Z)(t,[{key:"defaultArgs",get:function(){return{default:""}}}]),t}(kn),lr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call(this,r.reduce((function(e,t){return[].concat(e,t.fields)}),[]),{})||this,V((0,c.Z)(t),"tabs",[]),V((0,c.Z)(t),"render",(function(e){var n=e.children;return h.createElement(be,null,t.tabs.map((function(e){return h.createElement(be.Tab,{key:e.label,title:e.label},h.createElement(ye,{column:!0},function(e){return(0,h.cloneElement)(n,{fields:e.fields})}(e)))})))})),t.tabs=r,t}return(0,s.Z)(t,e),t}(rt),or={left:function(e){var t=e.size,n=void 0===t?24:t;return h.createElement("svg",{width:n,height:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},h.createElement("path",{fill:"currentColor",d:"M3 8V6h8v2zM3 13v-2h18v2zM3 18v-2h14v2z"}))},center:function(e){var t=e.size,n=void 0===t?24:t;return h.createElement("svg",{width:n,height:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},h.createElement("path",{fill:"currentColor",d:"M8 8V6h8v2zM3 13v-2h18v2zM5 18v-2h14v2z"}))},right:function(e){var t=e.size,n=void 0===t?24:t;return h.createElement("svg",{width:n,height:n,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},h.createElement("path",{fill:"currentColor",d:"M11 8V6h10v2zM3 13v-2h18v2zM6 18v-2h15v2z"}))}},ur=function(e){function t(){return e.apply(this,arguments)||this}return(0,s.Z)(t,e),t.prototype.field=function(e){var t=e.value,n=e.onChange,r=function(e){n(e.target.value)},a=Object.keys(or);return h.createElement(oe,{label:this.args.label},h.createElement("div",{className:rr},a.map((function(e){return h.createElement(cr,{key:e,value:e,checked:t===e,onChange:r})}))))},(0,d.Z)(t,[{key:"defaultArgs",get:function(){return{default:"left"}}}]),t}(kn);function cr(e){var t=e.value,n=e.onChange,r=e.checked,a=or[t];return h.createElement("div",{className:ar},h.createElement("input",{type:"radio",onChange:n,value:t,checked:r}),h.createElement("div",null,h.createElement(a,null)))}var sr={},dr=function(){function e(){}var t=e.prototype;return t.registerComponent=function(e,t){sr[e]=Object.assign({label:"title"},t)},t.defineElement=function(e){void 0===e&&(e="visual-editor"),customElements.define(e,fr)},e}(),fr=function(e){function t(){var t;return t=e.apply(this,arguments)||this,V((0,c.Z)(t),"_mounted",!1),V((0,c.Z)(t),"_data",null),V((0,c.Z)(t),"_value",""),t}(0,s.Z)(t,e);var n=t.prototype;return n.connectedCallback=function(){this._value=this.getAttribute("value")||"[]",this.render(),this._mounted=!0},n.attributeChangedCallback=function(e,t,n){if(!this._mounted)return!1;if("value"===e){if(n===this._value)return;this._value=n}this.render()},n.disconnectedCallback=function(){this._mounted=!1},n.parseValue=function(e){if(null===this._data)try{var t=JSON.parse(e);this._data=Qe(t).map((function(e){var t,n;return at(e,null!=(t=null==(n=sr[e._name])?void 0:n.fields)?t:[])}))}catch(n){console.error("Impossible de parser les donn\xe9es",e,n),alert("Impossible de parser les donn\xe9es de l'\xe9diteur visuel"),this._data=[]}return this._data},n.render=function(){var e,t,n,r,a,i=this,l=this.parseValue(this._value),o=null!=(e=null==(t=this.getAttribute("hidden-categories"))?void 0:t.split(";"))?e:[];g.render(h.createElement(ct,{data:l,definitions:sr,hiddenCategories:o},h.createElement(mr,{element:this,value:l,previewUrl:null!=(n=this.getAttribute("preview"))?n:"",iconsUrl:null!=(r=this.getAttribute("iconsUrl"))?r:"/",name:null!=(a=this.getAttribute("name"))?a:"",visible:null===this.getAttribute("hidden"),onChange:function(e){i._value!==e&&(i._value=e,i.dispatchEvent(new CustomEvent("veChange",{detail:e})))}})),this)},(0,d.Z)(t,[{key:"value",get:function(){return this._value},set:function(e){e!==this._value&&(this._value=e,this._data=null,this.render())}}],[{key:"observedAttributes",get:function(){return["hidden","value"]}}]),t}((0,u.Z)(HTMLElement));function mr(e){var t,n,r=e.value,a=e.previewUrl,i=e.name,l=e.element,o=e.iconsUrl,u=e.visible,c=e.onChange,s=(0,h.useRef)(!0),d=dt(),f=st(),m=function(e,t,n){void 0===t&&(t=700),void 0===n&&(n=!0);var r=(0,h.useState)(e),a=r[0],i=r[1];return(0,h.useEffect)((function(){if(!e||!n){var t=window.setTimeout((function(){return i(e)}),700);return function(){return window.clearTimeout(t)}}i(e)}),[e]),a}(u),v=function(){return null},p=(0,h.useMemo)((function(){return $e(f)}),[f]);return Mt((function(){s.current=!0,d(r)}),[r]),t=m,n=mt(),(0,h.useEffect)((function(){if(t){var e=function(e){try{var t=(e.clipboardData||window.clipboardData).getData("text").trim();if(t.startsWith("{")){e.preventDefault();var r=JSON.parse(t);r._name&&n(r._name,0,Qe(r))}else if(t.startsWith("[")){e.preventDefault();var a=JSON.parse(t);if(a.length>0)for(var i=a.length-1;i>=0;i--)n(a[i]._name,0,Qe(a[i]))}}catch(l){}};return document.addEventListener("paste",e),function(){document.removeEventListener("paste",e)}}}),[n,t]),(0,h.useEffect)((function(){s.current?s.current=!1:c(p)}),[p]),m?h.createElement(h.Fragment,null,h.createElement(_n,{data:f,onClose:function(){l.dispatchEvent(new Event("veClose"))},previewUrl:a,iconsUrl:o}),h.createElement("textarea",{hidden:!0,name:i,value:p,onChange:v})):h.createElement("textarea",{hidden:!0,name:i,value:p,onChange:v})}V(fr,"changeEventName","veChange");var vr=["--bs-blue","--bs-indigo","--bs-purple","--bs-pink","--bs-red","--bs-orange","--bs-yellow","--bs-green","--bs-teal:","--bs-cyan:","--bs-white","--bs-gray:","--bs-gray-dark","--bs-primary","--bs-secondary","--bs-success","--bs-info:","--bs-warning","--bs-danger","--bs-light","--bs-dark"],pr=function(e,t){return void 0===e&&(e="image"),void 0===t&&(t="image"),new Tn(e,{label:t,onBrowse:function(e){return Promise.resolve("https://picsum.photos/425/458")}})},hr=function(){return new nr([new Cn("label",{label:"Libell\xe9",default:"Call to action"}),new Cn("url",{label:"Lien"}),new ir("type",{default:"primary",label:"type",options:[{label:"Primaire",value:"primary"},{label:"Secondaire",value:"secondary"}]})])},gr=function(e,t){return new er(e,{label:t,colors:vr})},br=function(e,t){return void 0===e&&(e="title"),void 0===t&&(t="Titre"),new nr([new Jn(e,{default:"Lorem ipsum dolor sit amet",label:t,multiline:!1,colors:vr}),new ur(e+"Align",{label:"Alignement"})],{columns:"1fr max-content"})},Er=function(e,t){return void 0===e&&(e="content"),void 0===t&&(t="Description"),new Jn(e,{label:t,default:"<p>Minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Lorem ipsum dolor sit amet.</p>",multiline:!0,colors:vr}).background("backgroundColor").color("textColor")},_r=function(e,t){return void 0===t&&(t=[]),[new lr({label:"Contenu",fields:e},{label:"Apparence",fields:[].concat(t,[new nr([gr("backgroundColor","Background color"),gr("textColor","Text color"),pr("background","Background"),pr("backgroundMobile","Background (mobile)")],{columns:"50px 50px 1fr 1fr"}),new nr([new ir("backgroundSize",{default:"cover",label:"Size",options:[{label:"Remplir",value:"cover"},{label:"Contenir",value:"contain"},{label:"Original",value:"auto"}]}),new ir("backgroundRepeat",{default:"no-repeat",label:"Repeat",options:[{label:"Aucune",value:"no-repeat"},{label:"x",value:"repeat-x"},{label:"y",value:"repeat-y"},{label:"x & y",value:"repeat"}]}),new ir("backgroundXPosition",{default:"center",label:"Position (X)",options:[{label:"Centrer",value:"center"},{label:"Gauche",value:"left"},{label:"Droite",value:"right"}]}),new ir("backgroundYPosition",{default:"center",label:"Position (Y)",options:[{label:"Centrer",value:"center"},{label:"Haut",value:"top"},{label:"Bas",value:"bottom"}]})]).when("background",(function(e){return e})),new Range("padding",{label:"Vertical Padding",default:3})])})]},wr=new dr;wr.registerComponent("hero",{title:"Hero",fields:_r([br(),Er(),new Mn("buttons",{title:"Boutons",addLabel:"Add a new button",fields:[hr()]})])}),wr.registerComponent("pricing",{title:"Pricing",category:"Commerce",fields:_r([br(),Er(),new Mn("prices",{min:1,max:5,collapsed:"title",fields:[new Jn("title",{label:"Title",default:"Pro",multiline:!1}),new Cn("price",{label:"Price",default:"15\u20ac"}),new Cn("features",{label:"Features",multiline:!0}),hr()]})])}),wr.registerComponent("icons-columns",{title:"Icons columns",fields:_r([new Mn("icons",{min:1,max:5,collapsed:"title",fields:[new Cn("title",{label:"Title",default:"Featured title"}),Er()]})])}),wr.registerComponent("text",{title:"Formatted text",fields:[Er()]}),wr.defineElement()}}]);